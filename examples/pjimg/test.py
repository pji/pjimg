from datetime import datetime

import numpy as np

import pjimg.blends as blnd
import pjimg.eases as ease
import pjimg.filters as filt
import pjimg.sources as srcs
import pjimg.util as util
from pjimg.imgio import write


NAME = '~/Pictures/distortions/md08/md08.mp4'
TITLE = 'motion.distortion.08.mp4'

Z, Y, X = 0, 1, 2
FRAMES = 129
t0 = datetime.now()

# MD01
# HEIGHT = 1200
# size = (FRAMES, HEIGHT, HEIGHT)
# final_size = None
# UNITS = (32, 150, 150)
# tables = [
#     [
#         184, 186, 189, 230, 129, 110, 149, 38, 229, 109, 189, 160, 72, 169, 
#         21, 229, 194, 165, 75, 87, 237, 253, 181, 69, 172, 56, 83, 198, 209, 
#         14, 78, 58, 203, 126, 84, 185, 203, 72, 154, 159, 218, 215, 63, 141, 
#         163, 55, 50, 236, 220, 198, 221, 162, 61, 46, 27, 243, 1, 15, 129, 
#         204, 170, 171, 119, 19, 183, 62, 90, 120, 70, 9, 6, 27, 157, 223, 71, 
#         174, 85, 18, 233, 156, 179, 178, 211, 135, 249, 31, 145, 124, 242, 
#         137, 136, 175, 193, 177, 135, 112, 245, 182, 140, 239, 105, 42, 83, 2, 
#         62, 101, 254, 103, 177, 39, 102, 176, 207, 40, 33, 225, 18, 108, 4, 
#         213, 106, 105, 43, 190, 141, 8, 73, 253, 100, 149, 17, 122, 113, 255, 
#         125, 176, 210, 96, 85, 86, 109, 166, 246, 22, 103, 7, 41, 222, 200, 
#         75, 44, 194, 159, 115, 170, 247, 102, 107, 77, 152, 168, 116, 127, 98, 
#         56, 119, 11, 240, 104, 250, 184, 117, 25, 0, 88, 143, 197, 147, 47, 
#         36, 250, 28, 234, 241, 99, 206, 107, 251, 89, 133, 234, 3, 131, 218, 
#         82, 224, 53, 244, 44, 219, 196, 205, 22, 130, 48, 252, 227, 174, 144, 
#         131, 182, 26, 224, 175, 214, 239, 45, 16, 74, 220, 70, 147, 53, 111, 
#         155, 113, 158, 80, 244, 195, 154, 169, 97, 111, 121, 134, 132, 191, 
#         230, 31, 23, 93, 60, 201, 162, 142, 133, 186, 7, 242, 68, 217, 82, 
#         207, 61, 63, 236, 208, 190, 201, 26, 3, 183, 86, 34, 81, 238, 60, 17, 
#         166, 143, 59, 173, 5, 49, 118, 108, 209, 157, 124, 99, 243, 238, 24, 
#         191, 80, 1, 8, 210, 164, 188, 136, 67, 122, 231, 231, 32, 48, 21, 216, 
#         81, 33, 151, 204, 30, 145, 94, 178, 254, 67, 76, 34, 49, 47, 23, 4, 
#         15, 167, 247, 20, 139, 69, 213, 156, 10, 125, 137, 155, 74, 19, 112, 
#         226, 255, 228, 100, 249, 165, 225, 219, 173, 120, 68, 187, 93, 126, 
#         123, 227, 32, 110, 132, 92, 150, 88, 91, 14, 235, 71, 46, 40, 140, 179, 
#         11, 51, 104, 161, 151, 84, 16, 128, 146, 64, 240, 90, 202, 180, 98, 97, 
#         58, 116, 192, 96, 241, 212, 5, 251, 52, 41, 79, 208, 35, 57, 95, 215, 
#         134, 73, 188, 216, 76, 222, 114, 150, 199, 232, 181, 78, 121, 148, 29, 
#         153, 237, 89, 245, 64, 106, 37, 168, 101, 37, 20, 127, 248, 24, 13, 52, 
#         206, 196, 226, 55, 128, 193, 248, 77, 246, 187, 12, 13, 144, 172, 197, 
#         200, 192, 161, 252, 51, 148, 0, 185, 139, 212, 25, 87, 233, 114, 163, 
#         138, 35, 202, 142, 65, 160, 45, 171, 152, 223, 66, 9, 29, 2, 66, 205, 
#         43, 195, 232, 211, 59, 92, 138, 42, 79, 118, 39, 180, 167, 54, 36, 214, 
#         123, 10, 50, 30, 146, 28, 117, 12, 217, 221, 38, 95, 164, 65, 130, 91, 
#         94, 6, 57, 158, 115, 199, 54, 235, 153, 228
#     ],
#     [
#         29, 27, 171, 119, 1, 65, 61, 91, 35, 30, 152, 62, 203, 132, 169, 96, 
#         112, 180, 39, 69, 3, 44, 148, 154, 9, 108, 254, 153, 227, 15, 149, 204, 
#         222, 87, 137, 149, 196, 19, 225, 185, 15, 147, 32, 134, 141, 195, 116, 
#         9, 60, 198, 14, 7, 233, 178, 74, 39, 16, 189, 68, 232, 219, 8, 218, 
#         157, 161, 209, 80, 253, 92, 14, 151, 17, 141, 90, 43, 113, 99, 71, 220, 
#         168, 103, 76, 113, 44, 48, 191, 74, 122, 144, 53, 178, 160, 28, 252, 
#         234, 241, 205, 226, 188, 115, 127, 55, 54, 49, 163, 81, 70, 166, 209, 
#         157, 37, 146, 220, 207, 237, 187, 213, 215, 156, 168, 110, 249, 89, 
#         165, 18, 107, 107, 72, 11, 183, 110, 72, 210, 46, 126, 4, 52, 240, 120, 
#         117, 180, 150, 12, 207, 81, 78, 43, 241, 51, 40, 71, 56, 38, 109, 101, 
#         131, 95, 243, 21, 99, 174, 140, 208, 47, 134, 16, 95, 225, 167, 33, 
#         250, 22, 94, 167, 172, 86, 155, 80, 132, 100, 31, 65, 84, 45, 105, 212, 
#         145, 127, 158, 197, 128, 142, 105, 102, 154, 163, 104, 18, 197, 5, 206, 
#         88, 32, 175, 139, 170, 231, 111, 192, 49, 133, 66, 126, 203, 199, 109, 
#         61, 248, 97, 253, 201, 238, 13, 244, 131, 172, 85, 121, 232, 194, 213, 
#         31, 19, 239, 229, 20, 151, 242, 159, 214, 193, 41, 101, 70, 173, 27, 
#         221, 34, 158, 175, 26, 84, 78, 216, 98, 189, 64, 35, 145, 199, 112, 
#         211, 160, 54, 250, 247, 206, 246, 247, 176, 210, 190, 120, 138, 119, 
#         188, 239, 244, 205, 118, 211, 181, 89, 202, 255, 117, 1, 10, 36, 40, 
#         63, 42, 182, 137, 135, 123, 230, 135, 79, 10, 93, 128, 246, 156, 2, 24, 
#         52, 254, 77, 162, 58, 28, 123, 201, 235, 155, 129, 114, 73, 144, 228, 
#         147, 148, 7, 122, 60, 67, 255, 88, 190, 182, 42, 8, 50, 200, 0, 73, 36, 
#         93, 227, 66, 187, 233, 69, 90, 176, 79, 63, 124, 4, 6, 76, 223, 165, 
#         26, 83, 140, 242, 146, 13, 125, 186, 106, 56, 114, 252, 185, 124, 58, 
#         143, 177, 92, 234, 91, 142, 53, 186, 23, 240, 103, 251, 164, 169, 238, 
#         192, 77, 153, 67, 59, 25, 229, 191, 68, 130, 208, 87, 243, 86, 24, 46, 
#         47, 230, 57, 11, 218, 106, 136, 184, 138, 222, 34, 51, 57, 96, 179, 45, 
#         75, 22, 33, 29, 236, 21, 108, 245, 98, 133, 195, 219, 125, 174, 245, 
#         237, 194, 17, 12, 150, 94, 111, 97, 223, 212, 198, 3, 23, 104, 2, 25, 
#         64, 20, 59, 177, 55, 159, 183, 224, 224, 38, 48, 85, 251, 162, 136, 
#         200, 116, 248, 196, 5, 37, 193, 75, 130, 221, 236, 226, 228, 143, 184, 
#         30, 217, 50, 152, 129, 214, 6, 121, 161, 171, 62, 83, 204, 170, 181, 
#         216, 231, 82, 179, 0, 215, 173, 115, 164, 102, 41, 166, 100, 249, 235, 
#         139, 202, 118, 217, 82
#     ],
#     [
#         188, 115, 199, 251, 133, 154, 157, 176, 124, 88, 32, 121, 106, 41, 73, 
#         50, 191, 109, 199, 211, 29, 177, 156, 254, 15, 185, 33, 136, 126, 61, 
#         161, 140, 41, 159, 47, 135, 81, 224, 175, 94, 229, 39, 98, 7, 202, 76, 
#         37, 82, 92, 182, 229, 148, 80, 187, 181, 163, 162, 164, 108, 79, 255, 
#         11, 241, 192, 3, 120, 8, 173, 233, 53, 217, 88, 212, 149, 186, 173, 
#         158, 18, 210, 133, 196, 31, 99, 114, 250, 129, 228, 189, 69, 97, 151, 
#         17, 0, 118, 59, 243, 75, 60, 96, 68, 201, 172, 31, 12, 179, 178, 66, 
#         145, 104, 40, 13, 230, 105, 171, 78, 3, 1, 145, 168, 76, 118, 45, 70, 
#         232, 220, 187, 204, 186, 242, 245, 47, 95, 19, 54, 217, 141, 221, 10, 
#         46, 102, 171, 52, 84, 213, 139, 134, 21, 67, 63, 183, 181, 66, 20, 94, 
#         98, 28, 123, 104, 43, 241, 152, 120, 131, 112, 246, 204, 12, 93, 197, 
#         25, 136, 220, 177, 77, 222, 18, 153, 170, 116, 247, 255, 114, 147, 53, 
#         207, 38, 72, 51, 65, 176, 235, 249, 208, 150, 92, 203, 154, 100, 249, 
#         190, 203, 22, 79, 148, 188, 74, 200, 137, 235, 102, 112, 6, 32, 42, 44, 
#         46, 100, 23, 5, 151, 81, 196, 195, 165, 131, 44, 193, 209, 127, 101, 
#         156, 138, 38, 115, 127, 142, 122, 221, 248, 146, 149, 19, 174, 113, 
#         172, 16, 119, 72, 91, 55, 150, 207, 87, 45, 211, 28, 213, 184, 191, 
#         238, 167, 234, 83, 232, 113, 208, 103, 107, 57, 252, 62, 147, 24, 137, 
#         65, 244, 180, 155, 57, 117, 226, 24, 70, 56, 219, 2, 103, 159, 27, 234, 
#         36, 77, 73, 152, 167, 56, 205, 96, 71, 22, 240, 122, 215, 89, 111, 5, 
#         121, 237, 63, 128, 110, 245, 223, 192, 163, 62, 89, 238, 95, 143, 239, 
#         9, 20, 160, 184, 237, 83, 160, 236, 123, 179, 124, 71, 138, 54, 59, 91, 
#         231, 4, 201, 169, 64, 93, 14, 195, 6, 90, 212, 218, 242, 99, 37, 58, 
#         108, 178, 158, 236, 33, 30, 85, 227, 1, 17, 11, 182, 75, 166, 25, 132, 
#         239, 128, 209, 125, 198, 194, 130, 64, 111, 219, 198, 35, 183, 48, 36, 
#         230, 29, 170, 165, 246, 243, 23, 228, 180, 14, 197, 144, 206, 116, 119, 
#         110, 247, 244, 69, 26, 61, 248, 223, 253, 218, 251, 126, 202, 80, 67, 
#         87, 216, 51, 141, 189, 252, 194, 162, 2, 153, 144, 34, 34, 43, 48, 10, 
#         216, 143, 190, 129, 224, 134, 161, 7, 0, 109, 55, 200, 49, 227, 86, 39, 
#         58, 142, 74, 78, 169, 85, 27, 231, 49, 9, 164, 155, 90, 68, 253, 125, 
#         117, 233, 146, 16, 174, 13, 205, 130, 185, 166, 139, 140, 30, 42, 206, 
#         101, 60, 50, 254, 26, 84, 214, 52, 240, 226, 82, 210, 135, 168, 250, 
#         86, 157, 222, 175, 225, 40, 35, 225, 193, 106, 4, 214, 15, 97, 21, 107, 
#         215, 8, 105, 132
#     ],
#     [
#         211, 96, 115, 237, 141, 204, 247, 8, 68, 249, 162, 186, 60, 184, 193, 
#         159, 91, 160, 190, 75, 82, 182, 44, 55, 161, 172, 240, 120, 193, 106, 
#         176, 166, 32, 191, 195, 76, 171, 17, 99, 173, 21, 146, 109, 250, 254, 
#         215, 192, 63, 219, 25, 133, 138, 208, 128, 37, 145, 246, 200, 185, 143, 
#         2, 205, 189, 65, 171, 250, 6, 48, 176, 243, 107, 71, 165, 96, 180, 223, 
#         39, 20, 165, 203, 57, 46, 255, 107, 40, 99, 83, 144, 163, 43, 114, 90, 
#         199, 121, 189, 216, 128, 231, 178, 16, 51, 225, 10, 224, 124, 28, 218, 
#         238, 91, 219, 113, 203, 69, 142, 115, 109, 110, 156, 198, 206, 153, 40, 
#         52, 194, 59, 175, 47, 94, 63, 187, 56, 217, 79, 104, 122, 122, 221, 
#         194, 111, 126, 206, 26, 0, 159, 148, 185, 58, 116, 66, 162, 95, 183, 
#         168, 125, 228, 173, 149, 253, 45, 161, 4, 226, 170, 77, 80, 22, 188, 
#         82, 244, 93, 101, 53, 98, 252, 5, 13, 123, 233, 163, 233, 72, 172, 80, 
#         19, 195, 84, 136, 42, 125, 110, 119, 53, 175, 34, 47, 97, 238, 1, 24, 
#         23, 178, 135, 27, 76, 43, 182, 124, 234, 87, 140, 243, 247, 129, 9, 
#         213, 179, 16, 78, 135, 117, 174, 223, 75, 235, 251, 211, 83, 217, 148, 
#         150, 112, 236, 144, 55, 151, 158, 227, 104, 50, 41, 14, 127, 196, 150, 
#         133, 240, 205, 139, 41, 62, 101, 191, 226, 248, 50, 137, 65, 3, 18, 
#         204, 221, 70, 61, 130, 113, 164, 100, 170, 239, 237, 254, 230, 210, 
#         100, 142, 157, 36, 249, 84, 151, 13, 71, 130, 105, 70, 33, 25, 146, 5, 
#         152, 230, 77, 181, 120, 45, 94, 216, 180, 39, 188, 105, 197, 157, 167, 
#         220, 89, 4, 140, 210, 88, 38, 220, 241, 73, 158, 169, 114, 108, 92, 
#         241, 229, 44, 123, 215, 49, 78, 49, 119, 64, 46, 138, 197, 164, 29, 
#         231, 108, 201, 209, 200, 134, 232, 37, 19, 129, 131, 79, 242, 168, 102, 
#         160, 209, 58, 199, 111, 155, 89, 67, 207, 186, 17, 93, 253, 14, 212, 
#         88, 179, 7, 196, 248, 102, 134, 245, 227, 18, 112, 3, 12, 33, 181, 51, 
#         30, 116, 212, 52, 152, 15, 154, 54, 8, 156, 202, 67, 184, 224, 132, 
#         11, 64, 28, 192, 42, 20, 69, 95, 145, 0, 60, 222, 86, 236, 198, 66, 24, 
#         81, 74, 85, 167, 208, 62, 214, 72, 38, 68, 103, 147, 153, 235, 22, 143, 
#         242, 26, 174, 7, 239, 97, 35, 228, 127, 201, 85, 232, 87, 56, 183, 229, 
#         54, 137, 139, 15, 131, 31, 106, 117, 11, 225, 34, 154, 155, 207, 252, 
#         141, 2, 36, 21, 32, 35, 126, 86, 187, 1, 149, 48, 29, 92, 27, 177, 12, 
#         234, 136, 73, 190, 90, 74, 118, 103, 214, 10, 246, 30, 57, 166, 147, 
#         202, 61, 118, 222, 213, 177, 245, 132, 31, 121, 98, 9, 81, 218, 23, 6, 
#         255, 244, 251, 59, 169
#     ],
#     [
#         56, 6, 130, 105, 211, 59, 150, 210, 90, 143, 6, 231, 191, 157, 71,
#         145, 216, 48, 197, 213, 47, 182, 124, 42, 4, 181, 92, 35, 201, 226,
#         98, 239, 199, 209, 173, 65, 238, 105, 126, 23, 78, 127, 200, 85,
#         167, 141, 34, 176, 66, 11, 188, 180, 69, 95, 84, 181, 97, 194, 80,
#         78, 225, 192, 242, 164, 76, 227, 166, 151, 56, 22, 180, 190, 177,
#         68, 90, 79, 171, 151, 149, 89, 26, 158, 74, 82, 35, 200, 54, 246,
#         46, 152, 194, 116, 120, 241, 93, 5, 7, 43, 91, 53, 112, 114, 249,
#         185, 117, 147, 145, 14, 220, 20, 162, 208, 222, 250, 152, 134, 236,
#         79, 1, 239, 221, 144, 235, 3, 148, 219, 226, 107, 121, 247, 142,
#         249, 150, 46, 230, 212, 198, 149, 14, 83, 4, 30, 53, 73, 37, 232,
#         99, 192, 163, 165, 174, 205, 178, 162, 243, 206, 109, 15, 75, 154,
#         233, 140, 32, 165, 144, 147, 190, 0, 228, 113, 120, 98, 29, 49, 191,
#         182, 77, 19, 58, 96, 1, 41, 208, 12, 119, 51, 204, 2, 189, 223, 178,
#         118, 59, 248, 183, 242, 133, 110, 163, 253, 23, 168, 195, 8, 251, 0,
#         159, 223, 253, 225, 118, 27, 104, 131, 83, 43, 185, 89, 121, 41,
#         102, 254, 244, 205, 102, 201, 72, 142, 184, 7, 64, 247, 68, 31, 55,
#         138, 140, 203, 88, 129, 51, 99, 128, 9, 175, 125, 49, 92, 39, 52,
#         76, 135, 62, 207, 189, 234, 132, 96, 179, 164, 217, 57, 199, 107,
#         67, 175, 252, 230, 255, 21, 110, 21, 70, 155, 125, 254, 167, 48, 2,
#         62, 94, 195, 39, 156, 245, 196, 202, 124, 34, 186, 236, 215, 159,
#         85, 153, 38, 106, 229, 10, 16, 106, 17, 133, 57, 233, 115, 210, 176,
#         170, 207, 36, 122, 45, 172, 37, 81, 218, 161, 135, 28, 95, 204, 170,
#         229, 109, 19, 123, 209, 27, 130, 217, 146, 148, 40, 211, 66, 55,
#         158, 188, 33, 183, 44, 13, 168, 196, 20, 60, 113, 61, 12, 136, 139,
#         71, 58, 251, 82, 231, 216, 100, 222, 22, 9, 179, 103, 245, 214, 42,
#         64, 97, 111, 25, 241, 126, 16, 161, 221, 111, 50, 172, 74, 193, 63,
#         131, 61, 143, 101, 160, 26, 122, 38, 3, 11, 224, 137, 119, 169, 235,
#         70, 25, 237, 45, 246, 187, 202, 50, 184, 232, 127, 36, 203, 88, 244,
#         32, 243, 212, 28, 171, 52, 255, 114, 75, 115, 81, 166, 15, 100, 227,
#         155, 156, 65, 69, 84, 24, 213, 67, 77, 101, 30, 186, 63, 13, 86,
#         139, 116, 248, 31, 91, 108, 137, 138, 5, 18, 250, 40, 8, 237, 154,
#         174, 218, 17, 177, 93, 157, 129, 24, 214, 197, 108, 87, 198, 153,
#         136, 94, 240, 103, 252, 60, 80, 18, 240, 173, 29, 220, 146, 238,
#         123, 169, 86, 54, 104, 47, 134, 160, 132, 215, 73, 128, 117, 206,
#         228, 193, 33, 219, 224, 44, 72, 10, 141, 112, 87, 187, 234
#     ],
#     [
#         108, 44, 229, 86, 100, 142, 136, 3, 15, 125, 47, 45, 116, 247, 241,
#         59, 110, 180, 132, 146, 146, 159, 192, 123, 73, 186, 249, 123, 63,
#         183, 239, 121, 163, 42, 62, 204, 154, 160, 213, 169, 10, 130, 156,
#         43, 92, 131, 208, 99, 25, 8, 254, 1, 224, 149, 212, 189, 83, 52, 74,
#         55, 193, 117, 19, 8, 39, 172, 231, 33, 89, 88, 6, 168, 10, 79, 76,
#         234, 100, 32, 75, 35, 22, 84, 227, 232, 89, 13, 200, 40, 82, 64, 57,
#         160, 51, 163, 37, 53, 176, 81, 126, 77, 78, 230, 140, 21, 190, 34,
#         166, 38, 255, 93, 150, 225, 90, 105, 124, 6, 172, 220, 169, 7, 124,
#         218, 203, 50, 147, 58, 195, 4, 90, 85, 11, 73, 177, 197, 45, 144,
#         128, 181, 34, 249, 65, 215, 141, 109, 134, 232, 203, 113, 33, 26,
#         179, 237, 120, 253, 71, 24, 17, 71, 166, 80, 31, 152, 47, 82, 118,
#         235, 217, 148, 228, 242, 197, 155, 58, 153, 181, 110, 78, 60, 136,
#         140, 210, 0, 106, 200, 161, 151, 107, 3, 177, 225, 79, 115, 246,
#         199, 139, 5, 17, 101, 21, 144, 241, 151, 186, 198, 143, 201, 112,
#         12, 121, 182, 5, 193, 219, 129, 227, 161, 113, 97, 207, 23, 195,
#         208, 66, 1, 238, 196, 145, 117, 9, 72, 87, 104, 27, 16, 245, 228,
#         122, 164, 49, 84, 94, 112, 215, 83, 190, 46, 0, 233, 48, 98, 157,
#         23, 138, 70, 22, 106, 64, 220, 114, 59, 11, 97, 226, 135, 2, 248,
#         244, 20, 111, 226, 120, 243, 221, 104, 246, 51, 85, 242, 198, 105,
#         191, 216, 2, 234, 148, 209, 175, 222, 126, 189, 244, 157, 49, 44,
#         165, 150, 250, 247, 154, 70, 251, 156, 199, 18, 99, 95, 116, 12,
#         251, 130, 134, 27, 95, 201, 188, 122, 173, 108, 91, 174, 202, 98,
#         139, 103, 96, 80, 25, 119, 55, 94, 210, 20, 29, 211, 170, 28, 165,
#         252, 184, 67, 167, 238, 222, 81, 135, 76, 184, 137, 69, 233, 182,
#         26, 236, 216, 46, 65, 30, 60, 206, 56, 137, 178, 115, 72, 7, 88, 43,
#         205, 41, 145, 127, 253, 91, 131, 39, 87, 183, 218, 66, 196, 214,
#         252, 19, 229, 153, 175, 36, 4, 237, 37, 102, 187, 61, 202, 38, 206,
#         170, 176, 205, 255, 143, 141, 63, 164, 68, 171, 13, 14, 18, 243, 31,
#         129, 75, 52, 29, 221, 174, 219, 35, 28, 149, 211, 107, 212, 24, 86,
#         179, 109, 9, 67, 254, 235, 53, 224, 68, 223, 15, 133, 74, 14, 162,
#         54, 142, 92, 119, 207, 48, 250, 185, 158, 102, 236, 159, 111, 214,
#         32, 231, 204, 248, 168, 96, 36, 194, 245, 41, 209, 191, 133, 223,
#         185, 62, 77, 188, 187, 162, 40, 155, 178, 61, 180, 147, 240, 217,
#         118, 50, 152, 56, 230, 57, 239, 128, 138, 16, 114, 192, 30, 101,
#         125, 213, 158, 54, 42, 69, 103, 194, 93, 240, 171, 127, 132, 173,
#         167
#     ],
#     [
#         128, 81, 82, 243, 246, 206, 164, 173, 239, 72, 8, 248, 43, 98, 67,
#         111, 171, 69, 221, 219, 212, 116, 136, 179, 236, 77, 73, 32, 180,
#         39, 143, 196, 142, 92, 144, 233, 6, 117, 8, 184, 196, 97, 148, 235,
#         22, 24, 230, 61, 64, 222, 83, 147, 135, 166, 60, 108, 172, 33, 34,
#         31, 90, 252, 89, 221, 37, 243, 253, 191, 154, 225, 37, 218, 190,
#         174, 32, 127, 198, 104, 89, 88, 104, 254, 9, 207, 175, 219, 244,
#         204, 188, 179, 116, 246, 63, 153, 64, 112, 40, 195, 146, 138, 49,
#         183, 99, 255, 2, 109, 118, 203, 156, 45, 59, 106, 46, 139, 190, 16,
#         40, 35, 130, 234, 220, 208, 215, 48, 182, 231, 129, 132, 149, 125,
#         66, 75, 210, 30, 135, 166, 97, 144, 120, 93, 17, 100, 27, 44, 185,
#         212, 189, 152, 12, 240, 159, 241, 113, 60, 162, 129, 251, 21, 161,
#         10, 206, 111, 10, 134, 2, 70, 187, 238, 255, 176, 240, 137, 65, 149,
#         141, 50, 115, 45, 162, 233, 214, 96, 151, 133, 28, 94, 62, 226, 252,
#         147, 242, 174, 231, 27, 128, 198, 217, 202, 177, 29, 188, 237, 11,
#         140, 76, 143, 26, 248, 167, 183, 204, 232, 21, 201, 57, 176, 29, 43,
#         14, 56, 9, 49, 126, 199, 124, 85, 250, 123, 161, 1, 227, 36, 22, 25,
#         209, 200, 80, 177, 241, 7, 239, 172, 181, 101, 77, 132, 173, 170,
#         61, 127, 216, 86, 226, 211, 131, 125, 175, 216, 213, 242, 107, 160,
#         193, 178, 98, 237, 83, 103, 1, 53, 70, 18, 119, 41, 31, 227, 101,
#         168, 145, 171, 192, 193, 145, 105, 142, 234, 23, 62, 117, 249, 126,
#         138, 80, 228, 238, 249, 30, 186, 229, 55, 102, 150, 119, 96, 76,
#         151, 181, 115, 95, 207, 209, 47, 169, 228, 48, 200, 78, 114, 42,
#         251, 245, 91, 4, 103, 244, 95, 20, 84, 152, 12, 146, 113, 133, 88,
#         155, 163, 232, 229, 247, 170, 184, 72, 154, 201, 153, 110, 130, 86,
#         0, 105, 19, 18, 223, 205, 94, 223, 65, 165, 47, 84, 0, 157, 108,
#         118, 112, 220, 217, 141, 247, 54, 99, 87, 215, 136, 4, 148, 93, 137,
#         13, 214, 210, 156, 195, 78, 41, 169, 236, 139, 250, 63, 66, 5, 24,
#         36, 67, 38, 107, 39, 253, 13, 203, 202, 92, 42, 186, 69, 44, 81,
#         222, 19, 52, 100, 194, 194, 3, 187, 110, 158, 7, 120, 191, 102, 224,
#         6, 71, 20, 53, 218, 51, 3, 197, 230, 87, 59, 52, 38, 123, 157, 82,
#         51, 15, 57, 167, 122, 178, 71, 155, 33, 189, 58, 124, 109, 28, 208,
#         121, 25, 46, 182, 121, 16, 165, 197, 85, 158, 131, 224, 17, 56, 245,
#         15, 213, 14, 79, 11, 225, 79, 34, 134, 211, 55, 54, 168, 26, 122,
#         35, 106, 23, 114, 192, 180, 90, 5, 68, 75, 205, 74, 159, 50, 164,
#         235, 73, 74, 150, 185, 140, 199, 163, 254, 91, 58, 68, 160
#     ],
# ]

# MD08
HEIGHT = 720
UNITS = (30, 160, 160)
size = (FRAMES, 16 * HEIGHT // 9, 16 * HEIGHT // 9)
final_size = (FRAMES - 1, HEIGHT, 16 * HEIGHT // 9)
tables = [
    [
        250, 19, 75, 119, 81, 228, 145, 149, 91, 0, 42, 106, 19, 172, 81,
        192, 234, 95, 177, 78, 118, 67, 175, 116, 208, 141, 243, 151, 230,
        249, 16, 162, 156, 109, 45, 127, 78, 134, 122, 232, 173, 84, 120,
        26, 2, 84, 56, 236, 242, 144, 159, 190, 122, 237, 148, 160, 167,
        121, 146, 246, 92, 123, 126, 203, 58, 18, 197, 33, 153, 254, 218,
        130, 107, 67, 157, 146, 255, 98, 169, 58, 182, 47, 22, 35, 72, 109,
        31, 225, 24, 6, 230, 10, 117, 252, 233, 167, 129, 64, 158, 16, 245,
        199, 40, 96, 114, 61, 229, 137, 192, 240, 53, 235, 64, 227, 69, 54,
        86, 177, 108, 143, 112, 205, 198, 37, 60, 25, 210, 1, 222, 210, 3,
        73, 135, 143, 6, 238, 248, 131, 50, 185, 226, 157, 212, 186, 155,
        79, 170, 126, 36, 74, 90, 72, 168, 80, 25, 104, 83, 21, 220, 5, 135,
        202, 123, 250, 111, 218, 49, 220, 125, 205, 65, 142, 55, 237, 101,
        174, 176, 128, 85, 144, 101, 160, 76, 23, 113, 201, 77, 181, 29,
        132, 199, 31, 2, 65, 66, 194, 169, 56, 162, 171, 213, 247, 49, 114,
        148, 223, 189, 249, 41, 95, 196, 106, 181, 40, 20, 213, 89, 27, 222,
        241, 206, 57, 86, 110, 163, 119, 15, 154, 239, 73, 255, 174, 211,
        76, 37, 252, 99, 245, 223, 74, 14, 188, 27, 206, 50, 7, 140, 178,
        60, 224, 100, 171, 207, 140, 57, 33, 71, 11, 30, 70, 155, 47, 221,
        105, 215, 133, 32, 41, 87, 38, 77, 51, 29, 242, 82, 52, 138, 201,
        186, 200, 182, 46, 136, 98, 0, 147, 128, 92, 173, 187, 108, 7, 115,
        1, 96, 4, 104, 183, 139, 24, 112, 168, 79, 219, 117, 17, 103, 89,
        34, 59, 3, 164, 231, 129, 195, 158, 209, 136, 253, 195, 44, 161, 80,
        215, 88, 239, 224, 219, 226, 17, 151, 45, 116, 208, 21, 149, 184,
        30, 105, 227, 97, 164, 32, 231, 214, 39, 48, 212, 54, 113, 118, 191,
        165, 150, 189, 42, 55, 82, 9, 88, 10, 161, 175, 23, 172, 4, 190, 8,
        180, 66, 22, 145, 217, 180, 75, 246, 28, 133, 193, 147, 120, 221,
        211, 253, 15, 203, 142, 12, 204, 36, 87, 131, 28, 197, 238, 154,
        200, 53, 70, 229, 43, 159, 178, 241, 137, 11, 170, 251, 94, 110, 34,
        85, 90, 132, 13, 115, 83, 247, 165, 152, 59, 217, 93, 232, 62, 107,
        94, 93, 193, 20, 99, 18, 184, 35, 248, 111, 91, 228, 9, 139, 44,
        254, 124, 202, 124, 71, 209, 216, 52, 179, 152, 12, 127, 13, 244,
        134, 68, 62, 43, 166, 251, 163, 179, 141, 234, 8, 225, 97, 38, 244,
        138, 236, 14, 183, 194, 214, 216, 125, 188, 198, 100, 153, 166, 51,
        185, 102, 196, 233, 235, 68, 130, 48, 150, 39, 204, 5, 103, 61, 26,
        176, 63, 69, 240, 243, 63, 46, 121, 102, 156, 191, 207, 187
    ],
    [
        22, 148, 229, 46, 12, 146, 111, 212, 194, 15, 180, 130, 112, 62,
        140, 129, 48, 232, 71, 220, 87, 108, 26, 92, 217, 254, 131, 214,
        159, 28, 154, 205, 128, 51, 143, 166, 10, 122, 7, 151, 64, 152, 188,
        172, 15, 197, 69, 24, 136, 147, 70, 235, 228, 242, 142, 61, 127, 43,
        238, 137, 56, 106, 140, 29, 26, 237, 254, 86, 134, 220, 102, 144,
        44, 255, 35, 183, 113, 132, 218, 47, 207, 93, 70, 133, 206, 161, 32,
        252, 178, 124, 54, 88, 149, 77, 120, 156, 19, 195, 163, 177, 5, 125,
        138, 59, 36, 88, 191, 167, 199, 227, 158, 42, 20, 181, 227, 58, 242,
        187, 190, 8, 81, 168, 200, 161, 166, 23, 168, 98, 3, 175, 189, 177,
        253, 27, 107, 237, 12, 238, 241, 107, 192, 153, 155, 52, 169, 50,
        131, 34, 41, 40, 223, 136, 222, 162, 157, 198, 8, 138, 106, 57, 94,
        10, 123, 197, 37, 39, 9, 229, 207, 69, 246, 210, 55, 147, 6, 119,
        248, 139, 209, 17, 84, 142, 114, 95, 122, 45, 134, 35, 7, 97, 244,
        160, 170, 157, 11, 195, 154, 178, 54, 164, 66, 129, 63, 144, 180,
        41, 217, 38, 234, 184, 67, 211, 149, 53, 135, 196, 87, 200, 71, 33,
        187, 28, 30, 216, 243, 193, 108, 189, 201, 49, 230, 4, 49, 0, 251,
        82, 155, 97, 141, 2, 233, 231, 145, 127, 120, 184, 224, 241, 51, 1,
        43, 19, 115, 203, 215, 240, 253, 218, 216, 225, 50, 52, 179, 31,
        119, 133, 121, 37, 148, 169, 20, 245, 150, 105, 247, 204, 61, 3,
        226, 191, 117, 228, 40, 126, 199, 103, 34, 235, 55, 18, 4, 246, 153,
        240, 24, 80, 201, 247, 89, 100, 172, 103, 21, 128, 171, 213, 111,
        213, 60, 215, 5, 83, 16, 98, 236, 83, 38, 117, 118, 219, 31, 29, 2,
        208, 46, 159, 115, 248, 90, 77, 99, 109, 65, 208, 65, 158, 185, 13,
        124, 146, 137, 221, 174, 185, 53, 75, 104, 96, 135, 42, 132, 123,
        68, 57, 223, 236, 74, 165, 250, 6, 89, 72, 182, 59, 186, 92, 214,
        141, 82, 186, 252, 182, 170, 56, 150, 58, 243, 224, 21, 221, 94, 36,
        11, 27, 91, 192, 202, 139, 239, 211, 239, 196, 230, 179, 76, 152,
        212, 194, 113, 45, 145, 101, 249, 173, 164, 109, 176, 176, 209, 66,
        110, 16, 9, 244, 226, 206, 171, 73, 219, 222, 30, 25, 250, 81, 18,
        102, 14, 234, 80, 78, 93, 173, 67, 202, 78, 112, 44, 251, 91, 47,
        75, 121, 76, 100, 39, 130, 249, 255, 79, 90, 17, 181, 32, 33, 116,
        175, 110, 198, 116, 23, 84, 13, 167, 225, 101, 233, 183, 64, 143,
        96, 63, 114, 190, 125, 163, 210, 79, 104, 99, 165, 231, 62, 85, 203,
        174, 126, 245, 74, 25, 156, 1, 14, 86, 151, 160, 0, 105, 48, 85, 68,
        205, 72, 73, 232, 204, 188, 22, 60, 162, 118, 193, 95
    ],
    [
        208, 197, 123, 175, 148, 221, 166, 193, 4, 24, 19, 79, 227, 235,
        129, 47, 10, 9, 243, 64, 202, 40, 164, 120, 210, 228, 121, 127, 132,
        255, 189, 208, 33, 161, 215, 2, 100, 63, 83, 184, 243, 229, 152,
        113, 99, 92, 218, 237, 222, 144, 232, 252, 192, 109, 231, 15, 20,
        135, 182, 192, 27, 190, 124, 201, 97, 146, 161, 1, 159, 223, 80, 85,
        204, 221, 56, 53, 236, 196, 22, 27, 248, 66, 153, 95, 26, 195, 238,
        139, 7, 210, 43, 194, 188, 155, 153, 62, 167, 226, 174, 60, 237,
        169, 115, 253, 116, 80, 13, 22, 106, 185, 130, 82, 179, 242, 224,
        147, 52, 3, 200, 114, 55, 236, 220, 74, 250, 143, 206, 74, 144, 87,
        90, 239, 186, 149, 31, 84, 78, 57, 178, 175, 248, 225, 5, 183, 106,
        168, 23, 97, 225, 207, 19, 8, 201, 25, 247, 240, 115, 252, 21, 83,
        125, 119, 28, 52, 212, 2, 108, 244, 160, 8, 28, 146, 91, 245, 249,
        111, 104, 181, 205, 211, 186, 184, 137, 89, 90, 185, 119, 142, 199,
        131, 127, 128, 123, 6, 40, 235, 46, 50, 205, 48, 197, 57, 204, 85,
        140, 62, 117, 88, 254, 96, 30, 82, 253, 4, 91, 101, 176, 53, 138,
        239, 137, 246, 111, 211, 238, 141, 132, 92, 35, 246, 102, 63, 95,
        41, 107, 3, 21, 58, 141, 67, 224, 129, 71, 32, 11, 39, 138, 145, 12,
        65, 134, 49, 17, 89, 38, 24, 163, 233, 164, 124, 163, 48, 162, 65,
        7, 69, 41, 187, 84, 232, 50, 104, 17, 73, 251, 18, 60, 233, 149,
        241, 121, 93, 228, 181, 47, 102, 75, 231, 155, 249, 158, 30, 172,
        72, 179, 70, 136, 165, 196, 68, 86, 34, 44, 165, 170, 150, 114, 230,
        198, 244, 75, 157, 191, 125, 58, 178, 173, 86, 55, 157, 36, 72, 159,
        37, 241, 193, 20, 162, 113, 29, 130, 160, 18, 12, 255, 0, 36, 131,
        45, 35, 212, 172, 136, 203, 254, 140, 94, 88, 101, 182, 195, 234,
        15, 151, 16, 73, 171, 150, 117, 103, 133, 177, 220, 61, 59, 116,
        105, 213, 214, 1, 158, 126, 0, 37, 109, 133, 170, 173, 215, 64, 94,
        49, 169, 67, 222, 122, 199, 227, 240, 190, 112, 93, 31, 200, 226,
        87, 147, 5, 166, 23, 176, 66, 207, 135, 145, 177, 44, 213, 219, 6,
        42, 46, 203, 118, 79, 71, 77, 54, 38, 108, 209, 11, 223, 189, 14,
        134, 112, 110, 26, 81, 61, 76, 78, 59, 188, 10, 180, 9, 229, 187,
        214, 219, 154, 198, 76, 77, 14, 230, 242, 143, 25, 68, 118, 110,
        247, 168, 217, 98, 216, 171, 34, 216, 51, 167, 156, 29, 174, 39,
        154, 99, 33, 152, 122, 128, 245, 217, 206, 202, 191, 148, 56, 180,
        139, 120, 105, 81, 218, 43, 107, 16, 45, 126, 194, 183, 250, 70, 98,
        156, 234, 96, 209, 103, 13, 54, 42, 151, 251, 142, 51, 100, 69, 32
    ],
    [
        106, 225, 150, 101, 209, 118, 1, 210, 138, 104, 40, 130, 53, 207,
        67, 124, 52, 185, 146, 86, 156, 57, 109, 238, 70, 217, 177, 136, 28,
        85, 188, 110, 245, 105, 61, 102, 190, 212, 233, 6, 254, 227, 17,
        226, 240, 117, 234, 125, 35, 10, 111, 119, 148, 143, 126, 176, 193,
        155, 149, 105, 18, 179, 171, 222, 21, 253, 232, 152, 134, 77, 21,
        122, 84, 13, 114, 90, 176, 84, 168, 248, 44, 62, 47, 215, 135, 159,
        32, 24, 151, 186, 205, 121, 221, 4, 209, 200, 239, 114, 223, 75, 46,
        58, 16, 60, 137, 126, 216, 249, 60, 90, 52, 220, 123, 87, 199, 85,
        38, 250, 214, 162, 87, 9, 69, 203, 252, 66, 107, 182, 61, 112, 83,
        15, 113, 30, 239, 244, 243, 0, 39, 142, 78, 53, 180, 180, 175, 228,
        214, 24, 8, 164, 251, 72, 54, 162, 41, 137, 243, 132, 109, 102, 221,
        113, 145, 95, 73, 93, 247, 35, 4, 215, 230, 224, 240, 223, 156, 142,
        80, 36, 193, 25, 229, 122, 181, 26, 43, 233, 159, 139, 178, 174, 82,
        202, 89, 190, 99, 98, 56, 182, 80, 231, 7, 45, 100, 157, 23, 33,
        164, 184, 151, 154, 5, 128, 76, 196, 163, 78, 160, 29, 89, 30, 203,
        191, 56, 124, 64, 199, 71, 187, 26, 3, 226, 192, 36, 225, 39, 169,
        97, 150, 245, 172, 55, 51, 95, 148, 115, 253, 201, 42, 207, 133,
        197, 86, 255, 244, 242, 79, 96, 220, 6, 192, 48, 152, 166, 7, 155,
        235, 31, 230, 106, 130, 74, 49, 141, 25, 217, 96, 222, 232, 149, 91,
        108, 183, 63, 140, 101, 23, 37, 58, 179, 64, 246, 236, 46, 0, 251,
        158, 2, 173, 161, 16, 119, 3, 55, 210, 77, 118, 20, 131, 125, 121,
        110, 198, 81, 93, 51, 194, 184, 200, 218, 241, 172, 166, 72, 211,
        33, 254, 202, 129, 138, 63, 49, 38, 185, 98, 196, 8, 12, 79, 67, 76,
        250, 170, 68, 171, 99, 234, 147, 45, 82, 19, 59, 235, 71, 2, 252,
        40, 117, 112, 168, 22, 195, 249, 111, 177, 120, 237, 194, 65, 14,
        88, 237, 116, 103, 34, 127, 197, 48, 73, 9, 28, 227, 247, 19, 241,
        229, 1, 32, 34, 139, 69, 27, 62, 94, 22, 68, 136, 165, 37, 204, 173,
        17, 66, 198, 141, 213, 213, 160, 153, 29, 206, 165, 47, 153, 10,
        115, 12, 92, 94, 216, 50, 116, 18, 134, 74, 167, 248, 50, 11, 59,
        57, 104, 170, 92, 27, 154, 175, 14, 91, 242, 131, 212, 144, 204,
        167, 218, 186, 224, 188, 41, 108, 174, 97, 107, 140, 103, 228, 70,
        100, 195, 65, 135, 178, 187, 147, 219, 43, 183, 143, 208, 44, 231,
        157, 201, 13, 255, 75, 127, 189, 205, 169, 219, 83, 189, 133, 132,
        145, 161, 144, 191, 129, 163, 120, 128, 246, 236, 88, 11, 146, 206,
        181, 54, 123, 5, 31, 81, 211, 238, 158, 15, 208, 42, 20
    ],
    [
        51, 151, 234, 157, 153, 154, 147, 222, 25, 234, 211, 78, 152, 12,
        182, 233, 11, 40, 242, 9, 207, 4, 0, 237, 118, 139, 87, 24, 184, 0,
        46, 238, 130, 147, 85, 6, 243, 164, 215, 62, 25, 130, 193, 240, 76,
        252, 126, 243, 158, 46, 124, 213, 127, 155, 27, 1, 11, 165, 217,
        195, 141, 168, 189, 101, 108, 237, 214, 137, 185, 214, 138, 153,
        122, 95, 252, 111, 129, 99, 86, 34, 91, 203, 245, 138, 13, 161, 58,
        187, 73, 22, 192, 14, 123, 247, 246, 4, 28, 83, 180, 158, 119, 248,
        128, 20, 212, 200, 148, 94, 55, 47, 197, 219, 255, 10, 61, 59, 179,
        197, 185, 208, 177, 174, 98, 88, 101, 205, 231, 180, 28, 183, 244,
        192, 79, 131, 209, 76, 199, 125, 245, 40, 194, 198, 15, 93, 231, 33,
        193, 173, 166, 173, 9, 42, 241, 112, 142, 144, 63, 82, 232, 92, 156,
        118, 253, 3, 159, 77, 175, 112, 55, 233, 81, 176, 215, 211, 16, 27,
        125, 42, 222, 52, 195, 18, 73, 142, 3, 83, 117, 207, 162, 139, 75,
        220, 107, 89, 67, 250, 178, 157, 143, 206, 221, 210, 120, 36, 12,
        90, 116, 126, 68, 184, 29, 253, 44, 13, 6, 170, 98, 155, 254, 122,
        160, 196, 255, 141, 159, 201, 117, 49, 229, 45, 63, 170, 171, 7,
        132, 247, 171, 144, 24, 164, 137, 232, 94, 254, 96, 41, 17, 133,
        106, 249, 179, 129, 1, 104, 26, 146, 251, 31, 225, 213, 230, 19, 50,
        163, 69, 136, 109, 102, 48, 186, 79, 190, 123, 66, 17, 109, 115,
        154, 7, 100, 156, 2, 191, 37, 188, 249, 72, 145, 146, 115, 8, 206,
        190, 210, 69, 227, 84, 148, 64, 51, 121, 239, 181, 50, 186, 35, 104,
        106, 31, 74, 54, 196, 238, 15, 56, 92, 161, 53, 71, 169, 8, 103,
        165, 162, 150, 189, 100, 181, 174, 72, 19, 216, 251, 61, 96, 5, 198,
        105, 108, 43, 32, 74, 82, 70, 64, 38, 60, 149, 35, 220, 20, 230, 84,
        248, 136, 45, 21, 114, 124, 43, 41, 5, 65, 228, 60, 167, 99, 77,
        241, 88, 103, 236, 204, 65, 218, 53, 178, 81, 235, 119, 39, 239,
        113, 36, 135, 140, 175, 166, 191, 228, 202, 221, 143, 33, 226, 58,
        39, 107, 2, 176, 56, 217, 134, 57, 216, 132, 49, 57, 23, 95, 145,
        131, 10, 226, 110, 30, 44, 194, 121, 134, 149, 66, 23, 62, 67, 14,
        68, 21, 242, 218, 199, 225, 91, 86, 208, 151, 250, 16, 18, 32, 240,
        90, 244, 224, 150, 30, 160, 127, 105, 235, 89, 212, 26, 34, 200,
        188, 113, 37, 47, 236, 22, 202, 167, 97, 29, 163, 209, 111, 59, 116,
        223, 169, 120, 187, 75, 182, 114, 38, 152, 102, 85, 224, 203, 128,
        172, 133, 71, 135, 229, 52, 97, 80, 183, 110, 78, 54, 87, 168, 223,
        177, 219, 140, 70, 80, 204, 246, 172, 201, 205, 227, 93, 48
    ],
    [
        206, 251, 7, 174, 228, 89, 241, 112, 184, 128, 49, 163, 173, 172,
        135, 119, 0, 71, 150, 88, 19, 244, 145, 42, 132, 22, 67, 28, 77, 70,
        230, 57, 218, 232, 137, 231, 149, 194, 148, 93, 54, 171, 95, 8, 116,
        37, 220, 227, 110, 200, 248, 104, 16, 140, 222, 237, 170, 65, 246,
        72, 193, 69, 14, 195, 125, 32, 68, 200, 79, 169, 17, 123, 169, 153,
        47, 127, 82, 117, 114, 254, 237, 247, 107, 113, 164, 193, 91, 209,
        22, 203, 9, 198, 215, 179, 57, 6, 191, 108, 194, 195, 212, 197, 30,
        199, 16, 27, 5, 254, 1, 29, 159, 243, 152, 41, 239, 161, 187, 154,
        26, 17, 0, 38, 58, 155, 101, 147, 40, 209, 109, 223, 192, 121, 213,
        88, 205, 70, 188, 118, 27, 83, 26, 73, 30, 178, 58, 86, 12, 166, 89,
        98, 64, 99, 19, 32, 83, 117, 157, 82, 242, 20, 220, 225, 85, 99,
        127, 75, 25, 171, 2, 198, 244, 102, 105, 10, 204, 129, 177, 23, 134,
        185, 208, 137, 238, 210, 66, 5, 112, 28, 76, 201, 34, 241, 53, 238,
        204, 126, 64, 95, 86, 239, 33, 131, 25, 13, 42, 67, 168, 35, 253,
        46, 133, 72, 240, 223, 94, 97, 245, 176, 235, 131, 208, 48, 78, 62,
        87, 252, 228, 173, 187, 14, 80, 55, 62, 37, 211, 190, 149, 154, 121,
        97, 205, 143, 122, 180, 73, 84, 90, 196, 147, 13, 226, 23, 234, 232,
        128, 151, 253, 160, 54, 141, 155, 249, 50, 50, 202, 227, 76, 168, 4,
        74, 143, 175, 139, 248, 115, 130, 222, 78, 15, 45, 174, 236, 183,
        221, 233, 139, 133, 87, 229, 15, 12, 142, 33, 221, 225, 105, 196,
        192, 246, 63, 245, 103, 182, 71, 207, 250, 46, 123, 101, 68, 4, 1,
        240, 224, 214, 91, 51, 197, 115, 162, 140, 215, 100, 218, 106, 216,
        150, 206, 184, 219, 255, 43, 80, 230, 18, 167, 148, 166, 191, 202,
        179, 9, 186, 134, 165, 34, 24, 124, 178, 188, 160, 135, 44, 125, 47,
        94, 216, 55, 110, 235, 36, 172, 182, 24, 217, 138, 31, 90, 120, 20,
        66, 226, 7, 102, 59, 234, 10, 199, 96, 183, 252, 92, 126, 249, 60,
        103, 136, 77, 233, 40, 113, 6, 108, 186, 164, 152, 75, 43, 39, 21,
        219, 153, 190, 85, 29, 130, 45, 189, 124, 132, 144, 170, 39, 167,
        100, 81, 231, 175, 44, 65, 156, 176, 98, 3, 119, 11, 229, 59, 156,
        79, 51, 52, 56, 2, 8, 35, 247, 3, 144, 31, 111, 181, 81, 136, 93,
        120, 61, 243, 84, 201, 177, 48, 56, 180, 18, 104, 189, 151, 69, 165,
        111, 116, 158, 146, 138, 181, 21, 74, 203, 217, 162, 53, 122, 106,
        250, 210, 141, 142, 146, 213, 92, 118, 251, 96, 161, 145, 212, 38,
        63, 207, 158, 52, 49, 114, 107, 211, 163, 60, 41, 129, 61, 109, 11,
        242, 224, 255, 157, 185, 36, 159, 214, 236
    ],
    [
        214, 201, 235, 137, 209, 197, 149, 19, 196, 35, 35, 67, 69, 201,
        229, 41, 243, 108, 102, 103, 79, 161, 151, 20, 224, 65, 210, 130,
        84, 0, 88, 9, 193, 251, 84, 180, 175, 27, 71, 36, 240, 253, 65, 220,
        231, 59, 161, 138, 255, 225, 178, 153, 41, 181, 155, 150, 211, 110,
        169, 185, 87, 163, 177, 92, 182, 222, 46, 195, 6, 16, 183, 77, 147,
        94, 133, 192, 123, 120, 219, 101, 245, 63, 221, 3, 74, 43, 218, 101,
        250, 20, 222, 159, 126, 220, 234, 52, 134, 120, 164, 136, 194, 119,
        73, 187, 181, 5, 62, 98, 54, 115, 168, 114, 15, 75, 148, 73, 48,
        152, 207, 213, 98, 33, 64, 204, 56, 238, 3, 145, 23, 187, 131, 160,
        25, 165, 1, 12, 189, 154, 205, 85, 240, 180, 155, 158, 223, 138,
        144, 232, 132, 167, 45, 245, 148, 69, 42, 24, 40, 226, 205, 170,
        253, 171, 189, 185, 51, 68, 203, 91, 64, 14, 61, 10, 55, 235, 212,
        252, 241, 2, 171, 128, 60, 184, 96, 94, 236, 129, 179, 99, 226, 255,
        159, 100, 30, 72, 112, 95, 223, 114, 210, 228, 48, 12, 192, 47, 32,
        125, 156, 80, 11, 188, 164, 58, 190, 31, 151, 211, 249, 47, 217,
        242, 188, 72, 123, 49, 76, 111, 122, 173, 177, 90, 13, 107, 53, 146,
        77, 86, 53, 230, 30, 34, 142, 194, 118, 241, 202, 209, 86, 190, 113,
        134, 207, 58, 83, 215, 68, 136, 242, 78, 198, 178, 60, 7, 76, 137,
        172, 110, 5, 36, 149, 231, 17, 55, 119, 174, 40, 200, 237, 97, 18,
        125, 95, 243, 22, 9, 143, 97, 218, 31, 147, 163, 172, 250, 93, 8,
        228, 2, 89, 33, 121, 206, 246, 176, 193, 43, 25, 1, 22, 135, 121,
        152, 133, 66, 238, 28, 6, 93, 102, 82, 156, 57, 186, 83, 208, 175,
        126, 198, 82, 249, 237, 196, 191, 79, 154, 203, 202, 227, 128, 131,
        117, 17, 184, 215, 105, 219, 168, 232, 107, 124, 166, 28, 46, 81,
        150, 166, 4, 26, 247, 135, 213, 144, 63, 208, 19, 109, 104, 75, 124,
        37, 116, 239, 42, 153, 38, 100, 105, 54, 113, 162, 225, 8, 50, 199,
        244, 26, 127, 141, 39, 204, 49, 197, 157, 145, 50, 186, 80, 62, 45,
        87, 7, 88, 248, 52, 115, 13, 169, 21, 139, 122, 111, 212, 157, 57,
        71, 140, 96, 142, 117, 39, 15, 16, 130, 109, 170, 21, 132, 92, 99,
        91, 233, 104, 199, 200, 34, 56, 44, 182, 106, 127, 216, 236, 18, 78,
        254, 29, 29, 217, 27, 139, 103, 214, 252, 0, 191, 89, 221, 234, 160,
        118, 254, 195, 206, 143, 90, 239, 37, 229, 70, 24, 59, 70, 216, 32,
        108, 179, 183, 173, 224, 44, 248, 174, 140, 67, 66, 112, 230, 11,
        51, 244, 246, 85, 23, 116, 165, 38, 4, 162, 10, 158, 251, 146, 141,
        81, 61, 74, 227, 167, 14, 233, 176, 129, 247, 106
    ],
]
src = srcs.BorktaveCosineCurtains(
    octaves=4,
    persistence=8.0,
    amplitude=8.0,
    frequency=-1.5,
    unit=UNITS,
)
img = np.zeros(size)

for i, table in enumerate(tables):
    print(f'Starting layer {i}.')
    src.table = table
    layer = src.fill(size)
    if i % 2:
        layer = filt.rotate_90(img, direction='cw')
    img = blnd.difference(img, layer)
    print(f'Layer {i} complete at {datetime.now() - t0}')
if final_size:
    img = util.crop_array(img, final_size, (1, 0, 0))
img = filt.contrast(img)
print(f'Postprocessing complete at {datetime.now() - t0}.')

write('test_full.mp4', img)
